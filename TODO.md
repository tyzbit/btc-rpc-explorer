modernization/performance branch

- get rid of the next() ending most handlers
- async/await usage where appropriate
- const/let/var cleanup